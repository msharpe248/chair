<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Organic Chemistry Visualization Suite - Documentation</title>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <style>
    :root {
      --primary-color: #2563eb;
      --text-primary: #1e293b;
      --text-secondary: #64748b;
      --background: #f8fafc;
      --surface: #ffffff;
      --border-color: #e2e8f0;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
      background: var(--background);
      color: var(--text-primary);
      line-height: 1.6;
    }

    header {
      background: var(--surface);
      border-bottom: 1px solid var(--border-color);
      padding: 1rem 2rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    header h1 {
      font-size: 1.5rem;
      font-weight: 600;
    }

    header a {
      color: var(--primary-color);
      text-decoration: none;
    }

    header a:hover {
      text-decoration: underline;
    }

    .container {
      display: flex;
      max-width: 1200px;
      margin: 0 auto;
      min-height: calc(100vh - 60px);
    }

    nav {
      width: 250px;
      background: var(--surface);
      border-right: 1px solid var(--border-color);
      padding: 1.5rem;
      flex-shrink: 0;
    }

    nav h2 {
      font-size: 0.875rem;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: var(--text-secondary);
      margin-bottom: 1rem;
    }

    nav ul {
      list-style: none;
    }

    nav li {
      margin-bottom: 0.5rem;
    }

    nav a {
      color: var(--text-primary);
      text-decoration: none;
      padding: 0.5rem;
      display: block;
      border-radius: 4px;
      transition: background 0.15s ease;
    }

    nav a:hover,
    nav a.active {
      background: var(--background);
      color: var(--primary-color);
    }

    main {
      flex: 1;
      padding: 2rem;
      max-width: 800px;
    }

    #content {
      background: var(--surface);
      padding: 2rem;
      border-radius: 8px;
      border: 1px solid var(--border-color);
    }

    #content h1 {
      border-bottom: 2px solid var(--border-color);
      padding-bottom: 0.5rem;
      margin-bottom: 1.5rem;
    }

    #content h2 {
      margin-top: 2rem;
      margin-bottom: 1rem;
      color: var(--text-primary);
    }

    #content h3 {
      margin-top: 1.5rem;
      margin-bottom: 0.75rem;
    }

    #content p {
      margin-bottom: 1rem;
    }

    #content ul, #content ol {
      margin-bottom: 1rem;
      padding-left: 2rem;
    }

    #content li {
      margin-bottom: 0.5rem;
    }

    #content code {
      background: var(--background);
      padding: 0.125rem 0.375rem;
      border-radius: 4px;
      font-size: 0.9em;
    }

    #content pre {
      background: var(--background);
      padding: 1rem;
      border-radius: 8px;
      overflow-x: auto;
      margin-bottom: 1rem;
    }

    #content pre code {
      background: none;
      padding: 0;
    }

    #content table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 1rem;
    }

    #content th, #content td {
      border: 1px solid var(--border-color);
      padding: 0.5rem;
      text-align: left;
    }

    #content th {
      background: var(--background);
      font-weight: 600;
    }

    #content blockquote {
      border-left: 4px solid var(--primary-color);
      padding-left: 1rem;
      margin-left: 0;
      margin-bottom: 1rem;
      color: var(--text-secondary);
    }

    #content a {
      color: var(--primary-color);
    }

    @media (max-width: 768px) {
      .container {
        flex-direction: column;
      }

      nav {
        width: 100%;
        border-right: none;
        border-bottom: 1px solid var(--border-color);
      }

      nav ul {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
      }

      nav li {
        margin-bottom: 0;
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>Documentation</h1>
    <a href="../index.html">‚Üê Back to Viewer</a>
  </header>

  <div class="container">
    <nav>
      <h2>Chair Viewer</h2>
      <ul>
        <li><a href="#index" class="active" data-file="index.md">Home</a></li>
        <li><a href="#theory" data-file="theory.md">Chair Theory</a></li>
        <li><a href="#using" data-file="using-the-viewer.md">Using the Chair Viewer</a></li>
        <li><a href="#sugars" data-file="sugars.md">Pyranose Sugars</a></li>
        <li><a href="#decalin" data-file="decalin.md">Decalin</a></li>
      </ul>
      <h2>Energy Diagrams</h2>
      <ul>
        <li><a href="#energy-theory" data-file="energy-theory.md">Reaction Energy Theory</a></li>
        <li><a href="#energy-viewer" data-file="energy-viewer.md">Using the Energy Viewer</a></li>
      </ul>
      <h2>E2 Stereochemistry</h2>
      <ul>
        <li><a href="#e2-stereo" data-file="e2-stereo.md">E2 Stereochemistry Guide</a></li>
      </ul>
      <h2>Alkene Stability</h2>
      <ul>
        <li><a href="#alkene-stability" data-file="alkene-stability.md">Alkene Stability Guide</a></li>
      </ul>
      <h2>Stereochemistry</h2>
      <ul>
        <li><a href="#stereochemistry" data-file="stereochemistry.md">Stereochemistry Guide</a></li>
      </ul>
      <h2>Mechanism Animator</h2>
      <ul>
        <li><a href="#mechanism" data-file="mechanism-animator.md">Mechanism Guide</a></li>
      </ul>
    </nav>

    <main>
      <div id="content">
        <p>Loading documentation...</p>
      </div>
    </main>
  </div>

  <script>
    async function loadMarkdown(filename) {
      try {
        const response = await fetch(filename);
        if (!response.ok) throw new Error('File not found');
        const text = await response.text();
        document.getElementById('content').innerHTML = marked.parse(text);
      } catch (error) {
        document.getElementById('content').innerHTML = '<p>Error loading documentation.</p>';
      }
    }

    function handleNavClick(e) {
      e.preventDefault();
      const link = e.target.closest('a');
      if (!link) return;

      const file = link.dataset.file;
      if (file) {
        // Update active state
        document.querySelectorAll('nav a').forEach(a => a.classList.remove('active'));
        link.classList.add('active');

        // Load content
        loadMarkdown(file);

        // Update URL hash
        history.pushState(null, '', link.getAttribute('href'));
      }
    }

    function handleHashChange() {
      const hash = location.hash.slice(1) || 'index';
      const link = document.querySelector(`nav a[href="#${hash}"]`);
      if (link) {
        document.querySelectorAll('nav a').forEach(a => a.classList.remove('active'));
        link.classList.add('active');
        loadMarkdown(link.dataset.file);
      }
    }

    // Set up event listeners
    document.querySelector('nav').addEventListener('click', handleNavClick);
    window.addEventListener('hashchange', handleHashChange);

    // Load initial content based on hash or default
    handleHashChange();
  </script>
</body>
</html>
